/* ================================================================
   STARLIGHT OVERRIDES — Bridge design tokens to Starlight variables

   IMPORTANT: This file is unlayered CSS. Starlight ships all its
   default variables inside @layer starlight.base, which means our
   unlayered rules always win in the cascade regardless of specificity.
   Every rule here overrides Starlight's defaults unconditionally.

   Key: Starlight dark mode = :root (no data-theme)
        Starlight light mode = :root[data-theme='light']
   This is the OPPOSITE of tokens.css convention (where :root = light).
   So we cannot use var(--dp-*) for bg/text — resolve values directly.
   ================================================================ */

:root {
	/* Fonts */
	--sl-font: var(--dp-font-body);
	--sl-font-mono: var(--dp-font-mono);

	/* Accent — dark mode */
	--sl-color-accent-low: #3d1a08;
	--sl-color-accent: #e8530e;
	--sl-color-accent-high: #f5a580;

	/* Gray scale — dark mode
	   Starlight expects: 1=lightest (text/headings) → 7=darkest (near bg)
	   --sl-color-text = var(--sl-color-gray-2) */
	--sl-color-gray-1: #f5f3f0;
	--sl-color-gray-2: #e0ddd8;
	--sl-color-gray-3: #b5a898;
	--sl-color-gray-4: #777777;
	--sl-color-gray-5: #333333;
	--sl-color-gray-6: #1a1a1a;
	--sl-color-gray-7: #0c0c0c;

	/* Backgrounds — dark mode (resolved directly, not via --dp-* tokens) */
	--sl-color-bg: #0c0c0c;
	--sl-color-bg-sidebar: #161616;
	--sl-color-bg-nav: #0c0c0c;
	--sl-color-hairline-shade: #222222;

	/* Inline code — subtle dark surface (not full black) */
	--sl-color-bg-inline-code: #1a1a1a;
}

:root[data-theme='dark'] {
	/* Accent — dark mode (explicit for when html carries data-theme="dark") */
	--sl-color-accent-low: #3d1a08;
	--sl-color-accent: #e8530e;
	--sl-color-accent-high: #f5a580;

	/* Gray scale — same as :root dark defaults */
	--sl-color-gray-1: #f5f3f0;
	--sl-color-gray-2: #e0ddd8;
	--sl-color-gray-3: #b5a898;
	--sl-color-gray-4: #777777;
	--sl-color-gray-5: #333333;
	--sl-color-gray-6: #1a1a1a;
	--sl-color-gray-7: #0c0c0c;

	/* Backgrounds */
	--sl-color-bg: #0c0c0c;
	--sl-color-bg-sidebar: #161616;
	--sl-color-bg-nav: #0c0c0c;
	--sl-color-hairline-shade: #222222;

	/* Inline code — subtle dark surface */
	--sl-color-bg-inline-code: #1a1a1a;
}

:root[data-theme='light'] {
	/* Accent — light mode */
	--sl-color-accent-low: #fce8de;
	--sl-color-accent: #e8530e;
	--sl-color-accent-high: #7a2c07;

	/* Gray scale — light mode
	   Starlight expects: 1=darkest (text/headings) → 7=lightest (near bg)
	   --sl-color-text = var(--sl-color-gray-2) */
	--sl-color-gray-1: #1a1a1a;
	--sl-color-gray-2: #333333;
	--sl-color-gray-3: #555555;
	--sl-color-gray-4: #777777;
	--sl-color-gray-5: #b5a898;
	--sl-color-gray-6: #e0ddd8;
	--sl-color-gray-7: #f5f3f0;

	/* Backgrounds — light mode */
	--sl-color-bg: #ffffff;
	--sl-color-bg-sidebar: #f5f3f0;
	--sl-color-bg-nav: #ffffff;
	--sl-color-hairline-shade: #e0ddd8;

	/* Inline code — warm surface tint matching the design palette */
	--sl-color-bg-inline-code: #eae7e2;
}

/* ── Inline code in headings — no background chip, just mono font ── */
.sl-markdown-content :is(h1, h2, h3, h4, h5, h6) code {
	background-color: transparent;
	padding: 0;
	margin: 0;
	color: inherit;
}

/* ── Card overrides — monochromatic Swiss Constructivist ── */
.card {
	border-color: var(--sl-color-gray-5);
	background-color: var(--sl-color-bg);
}
:root[data-theme='light'] .card {
	border-color: #e0ddd8;
	background-color: #f5f3f0;
}
/* Neutralize colorful icon backgrounds (defensive, if icons are added back) */
.card .icon {
	border-color: var(--sl-color-gray-4);
	background-color: transparent;
}

/* ── Sharp corners — Swiss Constructivist flat design ── */

/* Sidebar active page link (the rounded orange pill) */
a[aria-current='page'],
a[aria-current='true'] {
	border-radius: 0;
}

/* Pagination prev/next nav cards */
.pagination-links a {
	border-radius: 0;
	box-shadow: none;
}

/* Search button and dialog */
[data-open-modal],
site-search dialog,
site-search input[type='search'] {
	border-radius: 0;
}

/* Tab controls */
starlight-tabs [role='tab'] {
	border-radius: 0;
}

/* Aside / callout boxes */
.starlight-aside {
	border-radius: 0;
}

/* Cards */
.card {
	border-radius: 0;
	box-shadow: none;
}
